# ğŸ“˜ 2ë¶€ â€” Git Worktree ì‹¤ìŠµê³¼ ì‹¤ì œ ì‹œë‚˜ë¦¬ì˜¤

> **â€œì´ì œ ì§ì ‘ ë§Œë“¤ì–´ë³´ì.â€**
> WorktreeëŠ” ì´í•´ë³´ë‹¤ â€˜ì§ì ‘ ì¨ë³´ë©´â€™ í™•ì‹¤íˆ ê°ì´ ì˜¤ëŠ” Gitì˜ ì‹¤ë¬´ ê¸°ëŠ¥ì…ë‹ˆë‹¤.
> ì´ ë¬¸ì„œëŠ” `git worktree`ë¥¼ ì‹¤ì œ í™˜ê²½ì—ì„œ ìƒì„±, ê´€ë¦¬, í™œìš©í•˜ëŠ” ëª¨ë“  ê³¼ì •ì„ ë‹¨ê³„ë³„ë¡œ ì•ˆë‚´í•©ë‹ˆë‹¤.

---

## ğŸ“š ëª©ì°¨

1ï¸âƒ£ [Worktree í™˜ê²½ ì¤€ë¹„](#1ï¸âƒ£-worktree-í™˜ê²½-ì¤€ë¹„)

2ï¸âƒ£ [Worktree ìƒì„± ë° ë¸Œëœì¹˜ ì—°ê²°](#2ï¸âƒ£-worktree-ìƒì„±-ë°-ë¸Œëœì¹˜-ì—°ê²°)

3ï¸âƒ£ [Worktree ê´€ë¦¬ ë° ì‚­ì œ](#3ï¸âƒ£-worktree-ê´€ë¦¬-ë°-ì‚­ì œ)

4ï¸âƒ£ [ì‹¤ìŠµ ì‹œë‚˜ë¦¬ì˜¤â‘  ê¸°ëŠ¥ ê°œë°œ + ê¸´ê¸‰ ìˆ˜ì • ë³‘í–‰](#4ï¸âƒ£-ì‹¤ìŠµ-ì‹œë‚˜ë¦¬ì˜¤â‘ --ê¸°ëŠ¥-ê°œë°œ--ê¸´ê¸‰-ìˆ˜ì •-ë³‘í–‰)

5ï¸âƒ£ [ì‹¤ìŠµ ì‹œë‚˜ë¦¬ì˜¤â‘¡ QA / ê°œë°œ í™˜ê²½ ë³‘í–‰](#5ï¸âƒ£-ì‹¤ìŠµ-ì‹œë‚˜ë¦¬ì˜¤â‘¡--qa--ê°œë°œ-í™˜ê²½-ë³‘í–‰)

6ï¸âƒ£ [ì‹¤ìŠµ ì‹œë‚˜ë¦¬ì˜¤â‘¢ PR ê²€ì¦ ë° ë¦¬ë·° ìë™í™”](#6ï¸âƒ£-ì‹¤ìŠµ-ì‹œë‚˜ë¦¬ì˜¤â‘¢--pr-ê²€ì¦-ë°-ë¦¬ë·°-ìë™í™”)

7ï¸âƒ£ [ì‹¤ìŠµ ì‹œë‚˜ë¦¬ì˜¤â‘£ ë²„ì „ ë³‘í–‰ ìœ ì§€ë³´ìˆ˜](#7ï¸âƒ£-ì‹¤ìŠµ-ì‹œë‚˜ë¦¬ì˜¤â‘£--ë²„ì „-ë³‘í–‰-ìœ ì§€ë³´ìˆ˜)

8ï¸âƒ£ [Worktree + ìë™í™” ë„êµ¬ ì—°ë™](#8ï¸âƒ£-worktree--ìë™í™”-ë„êµ¬-ì—°ë™)

9ï¸âƒ£ [Worktree ì‹¤ìŠµ ë¬¸ì œì§‘ (Workshop)](#9ï¸âƒ£-worktree-ì‹¤ìŠµ-ë¬¸ì œì§‘-workshop)

ğŸ”Ÿ [ì •ë¦¬ ë° í™•ì¥](#ğŸ”Ÿ-ì •ë¦¬-ë°-í™•ì¥)

---

## 1ï¸âƒ£ Worktree í™˜ê²½ ì¤€ë¹„

### 1.1. Git ë²„ì „ í™•ì¸

`git worktree`ëŠ” **Git 2.5 ì´ìƒ**ì—ì„œ ì§€ì›ë©ë‹ˆë‹¤.

```bash
git --version
# git version 2.43.0
```

---

### 1.2. ìƒ˜í”Œ ì €ì¥ì†Œ ìƒì„±

```bash
mkdir git-worktree-lab
cd git-worktree-lab
git init
```

```bash
echo "print('Hello Worktree')" > main.py
git add .
git commit -m "init: base project"
```

---

### 1.3. ë¸Œëœì¹˜ ì¤€ë¹„

```bash
git branch feature/login
git branch release/1.0
```

ê²°ê³¼ í™•ì¸:

```bash
git branch
# * main
#   feature/login
#   release/1.0
```

---

### 1.4. ê¸°ë³¸ êµ¬ì¡°

```
git-worktree-lab/
 â”œâ”€â”€ .git/
 â”œâ”€â”€ main.py
 â””â”€â”€ README.md
```

---

## 2ï¸âƒ£ Worktree ìƒì„± ë° ë¸Œëœì¹˜ ì—°ê²°

### 2.1. ê¸°ë³¸ ìƒì„±

```bash
git worktree add ../login-test feature/login
```

ë¡œê·¸:

```
Preparing worktree (checking out 'feature/login')
HEAD is now at 8c4f22e add login form
```

---

### 2.2. ìƒˆ ë¸Œëœì¹˜ ìƒì„±ê³¼ ë™ì‹œì— worktree ì¶”ê°€

```bash
git worktree add ../feature-payment -b feature/payment
```

ì¶œë ¥:

```
Preparing worktree (new branch 'feature/payment')
HEAD is now at a12b345 setup payment base
```

---

### 2.3. í˜„ì¬ Worktree ëª©ë¡ í™•ì¸

```bash
git worktree list
```

ì˜ˆì‹œ ì¶œë ¥:

```
/home/user/git-worktree-lab             a12b345 [main]
/home/user/feature-login                8c4f22e [feature/login]
/home/user/feature-payment              b22c4d1 [feature/payment]
```

---

### 2.4. í´ë” êµ¬ì¡° í™•ì¸

```
~/projects/
 â”œâ”€â”€ git-worktree-lab/      â† main ë¸Œëœì¹˜
 â”œâ”€â”€ feature-login/         â† feature/login
 â””â”€â”€ feature-payment/       â† feature/payment
```

> ëª¨ë“  ë””ë ‰í„°ë¦¬ëŠ” `.git` ë°ì´í„°ë¥¼ ê³µìœ í•˜ë¯€ë¡œ **í•˜ë‚˜ì˜ ì €ì¥ì†Œì²˜ëŸ¼ ë™ê¸°í™”**ë©ë‹ˆë‹¤.

---

## 3ï¸âƒ£ Worktree ê´€ë¦¬ ë° ì‚­ì œ

### 3.1. Worktree ì œê±°

```bash
git worktree remove ../feature-login
```

ì¶œë ¥:

```
Preparing to remove worktree at ../feature-login
Worktree removed successfully
```

---

### 3.2. ìˆ˜ë™ ì‚­ì œ í›„ ì •ë¦¬

ë§Œì•½ í´ë”ë¥¼ ì§ì ‘ ì§€ì› ë‹¤ë©´ ë‹¤ìŒ ëª…ë ¹ìœ¼ë¡œ ì •ë¦¬í•©ë‹ˆë‹¤.

```bash
git worktree prune
```

---

### 3.3. ì‚­ì œ ë°©ì§€

```bash
git worktree lock ../feature-payment
# íŠ¹ì • ë””ë ‰í„°ë¦¬ ì ê¸ˆ ì„¤ì •

git worktree unlock ../feature-payment
# ë‹¤ì‹œ ì ê¸ˆ í•´ì œ
```

---

### 3.4. ë‚´ë¶€ êµ¬ì¡° í™•ì¸

`.git/worktrees/` ê²½ë¡œë¥¼ ì‚´í´ë³´ë©´ ê° ì‘ì—…ê³µê°„ì˜ ë©”íƒ€ë°ì´í„°ê°€ ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```
.git/worktrees/
 â”œâ”€â”€ feature-payment/
 â”‚    â”œâ”€â”€ HEAD
 â”‚    â””â”€â”€ gitdir
 â””â”€â”€ feature-login/
      â”œâ”€â”€ HEAD
      â””â”€â”€ gitdir
```

---

## 4ï¸âƒ£ ì‹¤ìŠµ ì‹œë‚˜ë¦¬ì˜¤â‘  â€” ê¸°ëŠ¥ ê°œë°œ + ê¸´ê¸‰ ìˆ˜ì • ë³‘í–‰

### ğŸ“ ìƒí™©

`feature/payment`ë¥¼ ê°œë°œ ì¤‘ì¸ë°, `main` ë¸Œëœì¹˜ì—ì„œ **ë²„ê·¸ ìˆ˜ì •**ì´ í•„ìš”í•©ë‹ˆë‹¤.

---

### ğŸ§© ëª…ë ¹ ì‹¤í–‰

```bash
cd git-worktree-lab
git worktree add ../hotfix main
```

```
Preparing worktree (checking out 'main')
HEAD is now at f0a1b2c fix typo in payment
```

---

### ğŸ“ êµ¬ì¡°

```
git-worktree-lab/     â† feature/payment
hotfix/               â† main (hotfix ì‘ì—…ìš©)
```

---

### âœ… í…ŒìŠ¤íŠ¸ í›„ ì»¤ë°‹

```bash
cd ../hotfix
vim src/payment.py
git commit -am "fix: urgent payment issue"
git push origin main
```

ì´ì œ ë‹¤ì‹œ `feature/payment` ë¸Œëœì¹˜ë¡œ ë³µê·€:

```bash
cd ../git-worktree-lab
```

> ğŸ’¡ **ì¥ì :**
> stashë‚˜ ì„ì‹œ ì»¤ë°‹ ë¶ˆí•„ìš”, ì „í™˜ ì†ë„ 0ì´ˆ, ì¶©ëŒ ì—†ìŒ.

---

## 5ï¸âƒ£ ì‹¤ìŠµ ì‹œë‚˜ë¦¬ì˜¤â‘¡ â€” QA / ê°œë°œ í™˜ê²½ ë³‘í–‰

### ğŸ“ ìƒí™©

`develop` ë¸Œëœì¹˜ì—ì„œ ê°œë°œ ì¤‘ì´ê³ , QA íŒ€ì´ `release` ë²„ì „ í…ŒìŠ¤íŠ¸ ì¤‘.

---

### ğŸ§© ëª…ë ¹ ì‹¤í–‰

```bash
git worktree add ../build-dev develop
git worktree add ../build-qa release/1.0
```

---

### ğŸ“ êµ¬ì¡°

```
project/
 â”œâ”€â”€ build-dev/   (develop)
 â”œâ”€â”€ build-qa/    (release/1.0)
```

> QAê°€ í…ŒìŠ¤íŠ¸ ì¤‘ì—ë„ ê°œë°œìëŠ” ììœ ë¡­ê²Œ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## 6ï¸âƒ£ ì‹¤ìŠµ ì‹œë‚˜ë¦¬ì˜¤â‘¢ â€” PR ê²€ì¦ ë° ë¦¬ë·° ìë™í™”

### ğŸ“ ìƒí™©

GitHub PRì„ ë°›ì•„ì„œ ë¡œì»¬ì—ì„œ ë°”ë¡œ í…ŒìŠ¤íŠ¸í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.

---

### ğŸ§© ëª…ë ¹ ì‹¤í–‰

```bash
git fetch origin feature/new-ui
git worktree add ../review-ui feature/new-ui
cd ../review-ui
npm install && npm run build
```

---

### ğŸ“ êµ¬ì¡°

```
repo/
 â”œâ”€â”€ .git/
 â”œâ”€â”€ main/
 â””â”€â”€ review-ui/   â† PR ë¸Œëœì¹˜
```

---

### âœ… í…ŒìŠ¤íŠ¸ í›„ ì •ë¦¬

```bash
git worktree remove ../review-ui
```

> ë¦¬ë·°ë¥¼ ìœ„í•´ ë¸Œëœì¹˜ë¥¼ ì „í™˜í•˜ê±°ë‚˜ stash í•  í•„ìš” ì—†ì´,
> ë…ë¦½ëœ í´ë”ì—ì„œ ì•ˆì „í•˜ê²Œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥.

---

## 7ï¸âƒ£ ì‹¤ìŠµ ì‹œë‚˜ë¦¬ì˜¤â‘£ â€” ë²„ì „ ë³‘í–‰ ìœ ì§€ë³´ìˆ˜

### ğŸ“ ìƒí™©

`release/1.0`ì€ ìœ ì§€ë³´ìˆ˜, `release/2.0`ì€ ì‹ ê·œ ê¸°ëŠ¥ ê°œë°œ.

---

### ğŸ§© ëª…ë ¹ ì‹¤í–‰

```bash
git worktree add ../release-1.0 release/1.0
git worktree add ../release-2.0 release/2.0
```

---

### ğŸ“ êµ¬ì¡°

```
project/
 â”œâ”€â”€ release-1.0/
 â””â”€â”€ release-2.0/
```

---

### âœ… ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì‹œ

```bash
# build-1.0.sh
cd ../release-1.0
npm run build:stable

# build-2.0.sh
cd ../release-2.0
npm run build:next
```

---

## 8ï¸âƒ£ Worktree + ìë™í™” ë„êµ¬ ì—°ë™

### 8.1. Cursor / Clineê³¼ì˜ ì—°ë™

* **Cursor 2.0**ì€ ì—¬ëŸ¬ AI Agentê°€ ë³‘ë ¬ë¡œ ì½”ë“œë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´
  ë‚´ë¶€ì ìœ¼ë¡œ `git worktree`ë¥¼ í™œìš©í•©ë‹ˆë‹¤.
  ì˜ˆ:

  ```
  C:\Users\<User>\.cursor\worktrees\<agent-id>\
  ```

* ê° ì—ì´ì „íŠ¸ëŠ” ë…ë¦½ëœ worktreeì—ì„œ ìˆ˜ì • í›„ diffë¥¼ ë¹„êµ/ë³‘í•©.

---

### 8.2. CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œ ë³‘ë ¬ ì‘ì—… ì˜ˆì‹œ

GitHub Actions ì˜ˆì œ:

```yaml
jobs:
  parallel-build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Prepare worktrees
        run: |
          git worktree add ../release-1.0 release/1.0
          git worktree add ../release-2.0 release/2.0
      - name: Build all versions
        run: |
          cd ../release-1.0 && npm run build &
          cd ../release-2.0 && npm run build &
          wait
```

> Worktreeë¥¼ í™œìš©í•˜ë©´ í•˜ë‚˜ì˜ ì›Œí¬í”Œë¡œì—ì„œ ë‹¤ì¤‘ ë¸Œëœì¹˜ë¥¼ ë³‘ë ¬ë¡œ ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### 8.3. Pythonìœ¼ë¡œ Worktree ìë™ ìƒì„±

```python
import subprocess

branches = ["feature/ui", "feature/api"]
for b in branches:
    path = f"../{b.replace('/', '-')}"
    subprocess.run(["git", "worktree", "add", path, b])
```

---

## 9ï¸âƒ£ Worktree ì‹¤ìŠµ ë¬¸ì œì§‘ (Workshop)

| ê³¼ì œ  | ëª©í‘œ                         | íŒíŠ¸                                          |
| --- | -------------------------- | ------------------------------------------- |
| 1ï¸âƒ£ | `main`ì—ì„œ hotfix ì‘ì—…ì„ ë³‘ë ¬ë¡œ ìˆ˜í–‰ | `git worktree add ../hotfix main`           |
| 2ï¸âƒ£ | `release` ë¸Œëœì¹˜ì—ì„œ QAìš© ë¹Œë“œ ìƒì„±  | `git worktree add ../qa release`            |
| 3ï¸âƒ£ | PR ë¸Œëœì¹˜ `feature/new-ui` ê²€ì¦ | `git worktree add ../review feature/new-ui` |
| 4ï¸âƒ£ | worktree ëª©ë¡ í™•ì¸ ë° ì œê±°        | `git worktree list` / `git worktree remove` |

---

## ğŸ”Ÿ ì •ë¦¬ ë° í™•ì¥

| ì£¼ì œ     | ìš”ì•½                                           |
| ------ | -------------------------------------------- |
| í•µì‹¬ ê°œë…  | WorktreeëŠ” í•˜ë‚˜ì˜ `.git`ìœ¼ë¡œ ì—¬ëŸ¬ ë¸Œëœì¹˜ë¥¼ ë³‘ë ¬ ìš´ì˜         |
| ì£¼ìš” ì¥ì   | ë¹ ë¦„, ì¶©ëŒ ì—†ìŒ, ì¤‘ë³µ ìµœì†Œí™”                            |
| ì‹¤ë¬´ í™œìš©  | í•«í”½ìŠ¤, QA, PR ê²€ì¦, ë‹¤ì¤‘ ë²„ì „ ë³‘í–‰, ìë™í™” í™˜ê²½             |
| ìë™í™” ì—°ë™ | Cursor, Cline, GitHub Actions, Python Script |
| ê´€ë¦¬ ì£¼ì˜ì  | `.git` ì‚­ì œ ê¸ˆì§€, prune ì£¼ê¸°ì  ì‹¤í–‰ í•„ìš”                |

---

> ğŸ§­ **í•œ ì¤„ ìš”ì•½**
> `git worktree`ëŠ” ì‹¤ë¬´ì—ì„œ â€œë¸Œëœì¹˜ ì „í™˜ ì—†ëŠ” ë³‘ë ¬ ê°œë°œâ€ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ”
> ê°€ì¥ ê°•ë ¥í•œ Git ê¸°ëŠ¥ì…ë‹ˆë‹¤.
> ê°œë°œ, QA, ìë™í™”, AI í™˜ê²½ê¹Œì§€ â€” WorktreeëŠ” ì´ì œ ì„ íƒì´ ì•„ë‹Œ **ê¸°ë³¸ ì „ëµ**ì…ë‹ˆë‹¤.

