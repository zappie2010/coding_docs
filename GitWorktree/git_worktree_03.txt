https://cursor.com/docs/configuration/worktrees


---

# 🧩 Git Worktree vs Cursor Worktree 비교

> Cursor 2.0은 Git의 `worktree` 기능을 확장해
> **AI 병렬 개발·자동화·충돌 방지 환경**을 제공한다.

---

## ⚖️ 비교 요약

| 항목        | Git Worktree (기본)         | Cursor Worktree (확장)                               |
| --------- | ------------------------- | -------------------------------------------------- |
| **기본 역할** | 하나의 저장소에서 여러 브랜치 동시 작업    | 각 AI Agent에게 독립된 작업 환경 자동 할당                       |
| **생성 방식** | 수동 (`git worktree add`)   | Cursor가 Agent 실행 시 자동 생성                           |
| **경로 관리** | 사용자가 직접 폴더 지정             | 시스템 자동 경로 (`~/.cursor/worktrees/<repo>/<id>`)      |
| **초기화**   | 수동 의존성 설치 필요              | `.cursor/worktrees.json`으로 자동 환경 설정 (빌드·DB·env 복사) |
| **작업 주체** | 개발자 직접 코드 편집              | AI Agent가 코드 수정 · 테스트                              |
| **결과 통합** | 수동 `merge` 필요             | `"Apply All"` 버튼으로 자동 병합 (UI 기반 충돌 해결)             |
| **동시성**   | 브랜치 전환 필요                 | 여러 AI 모델 병렬 작업 (Parallel Agents / Best-of-N)       |
| **정리 관리** | 수동 (`git worktree prune`) | 자동 정리 정책 (`worktree.cleanup.*`) 적용                 |
| **OS 지원** | 공통 Git 명령 기반              | OS별 초기화 스크립트 (`setup-worktree-unix` / `windows`)   |
| **시각화**   | 없음                        | SCM 패널에서 상태 표시 (`git.showCursorWorktrees`)         |

---

## 🚀 Cursor가 추가한 핵심 기능

### 1️⃣ 자동 Worktree 생성 및 관리

* AI Agent 실행 시 자동 Worktree 생성
* 브랜치 및 폴더 경로 자동 분리 (`~/.cursor/worktrees/…`)
* 개발자 수동 명령 불필요

---

### 2️⃣ 에이전트 ↔ Worktree 1:1 매핑

* 각 Agent는 자신의 Worktree에서만 작동
* 서로 간섭 없이 병렬 작업 보장

---

### 3️⃣ 자동 초기화 스크립트 (worktrees.json)

* Worktree 생성 시 자동 실행 설정 파일
* 빌드 · 의존성 설치 · DB 마이그레이션 자동화
* OS별 분리 설정 지원

---

### 4️⃣ “Apply All” 자동 병합 시스템

* AI Agent 변경사항을 원본 브랜치에 자동 반영
* Git diff 기반 병합 + 충돌 UI 제공

---

### 5️⃣ 병렬 모델 비교 (Best-of-N)

* 하나의 프롬프트를 여러 AI 모델에 동시에 실행
* 결과 카드 비교 → 선택 → 자동 병합
* 모델 출력 충돌 없음

---

### 6️⃣ 자동 Cleanup 정책

* 워크스페이스당 최대 20개 Worktree 유지
* 오래된 Worktree 자동 삭제
* `settings.json` 으로 주기 · 보존 기간 · 용량 설정 가능

---

### 7️⃣ SCM 패널 시각화

* VS Code 기반 SCM 패널에서 Worktree 상태 표시
* `"git.showCursorWorktrees": true` 로 활성화

---

## 💡 정리

> **Git Worktree = 브랜치 동시 작업 기능**
> **Cursor Worktree = AI 병렬 개발 엔진 플랫폼**

Cursor는 `git worktree`를
단순한 개발 보조 도구에서 **AI 코드 생성 및 자동화 인프라**로 확장했습니다.

---

### ✅ 핵심 효과

* AI Agent 병렬 작업 → 충돌 없는 코드 수정
* 환경 설정 자동화 → 팀 빌드 속도 향상
* Worktree 자동 관리 → 리소스 최적화
* Best-of-N → 모델별 품질 비교 및 결과 통합


